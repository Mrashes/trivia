<!DOCTYPE html>
<html>
<head>
	<title>Trivia Game</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Latest compiled and minified CSS & JS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="assets/js/jquery.js"></script>
</head>
<body>
	<div class="container">
		<div class="jumbotron">
			<h1 class="text-center"><strong>Trivia</strong></h1>
			<h4 class="text-center">To cross the otherside you see, you must answer questions 3</h4>
		</div>

		<div class="row">
			<div class="col-lg-5" >
				<div class="row">
					<h3 class="text-center">Question</h3>
				</div>
				<!-- Question -->
				<div id="question" class="question">
					<button class="center-block" id="start">Commence</button>
				</div>
			</div>
			<div class="col-lg-7">
				<!-- Answers -->
				<div class="panel panel-default">
					<div class="panel-body text-center" id="answer1">
						Answer 1
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-body text-center" id="answer2">
						Answer2
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-body text-center" id="answer3">
						Answer 3
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-body text-center" id="answer4">
						Answer 4
					</div>
				</div>
				<div >
					<div class="panel panel-default">
						<div class="panel-body text-center" id="timer">
							timer
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<script type="text/javascript">
		var trivia = {
			//storage of questions.  Its an array so questions[x] is which question you have.
			questions:  [
				{
					question: "question 1",
					answers: ["answer 1", "answer 2", "answer 3", "answer 4",],
					right: "answer 2"
					// answer: "Answer 1",
					// fake1: "Answer 2",
					// fake2: "Answer 3",
					// fake3: "Answer 4",
				},
				{
					question: "question 2",
					answers: ["answer 1", "answer 2", "answer 3", "answer 4",],
					right: "answer 1"
					// answer: "Answer 1",
					// fake1: "Answer 2",
					// fake2: "Answer 3",
					// fake3: "Answer 4",
				},
				{
					question: "question 3",
					answers: ["answer 1", "answer 2", "answer 3", "answer 4",],
					right: "answer 3"
					// answer: "ANSWER 1",
					// fake1: "ANSWER 2",
					// fake2: "ANSWER 3",
					// fake3: "ANSWER 4",
				}
			],

			//declaration of variables

			usedQuestions: [],
			currentQuestion: "",
			timer: 10,
			score: 0,

			//functions
			//random number generator (non-inclusive)
			randomNumber: function(min, max) {
				return Math.floor(Math.random() * (max - min)) + min;
			},

			//Draw new question
			newQuestion: function() {
				//choose which question
				trivia.currentQuestion = trivia.questions[trivia.randomNumber(0, trivia.questions.length)];
				if (trivia.currentQuestion.length === 0){
					alert("out of questions.  Sorry")
					console.log('newQuestion');
				}
				else {
					return trivia.currentQuestion
				}
			},

			printScore: function() {
				$('#score').text(trivia.score);
			},

			//prints trivia question and answers
			printCurrentTrivia: function(){
				$('#question').html("<h3 class=\"text-center\">" + trivia.currentQuestion.question + "</h3>");
				$('#answer1').text(trivia.currentQuestion.answers[0]);
				$('#answer2').text(trivia.currentQuestion.answers[1]);
				$('#answer3').text(trivia.currentQuestion.answers[2]);
				$('#answer4').text(trivia.currentQuestion.answers[3]);
			},

			//removes current question from the question pool
			removeQuestion: function() {
				trivia.usedQuestions.push(trivia.currentQuestion)
				trivia.questions.splice(trivia.questions.indexOf(trivia.currentQuestion), 1);		
			},

			nextQuestion: function() {
				if (trivia.questions.length > 0){
					trivia.newQuestion();
					trivia.printCurrentTrivia();
					trivia.removeQuestion();
					// trivia.printScore();
					// trivia.perSecond();
				}
				else {
					console.log("broke from next question");
					//have it create screen of score and time?
				}
			},

			point: function() {
				trivia.score += 1;
			},

			randomizeQuestion: function() {
				trivia.randomNumber(0, triva.currentQuestion.answers.length)
			},

			// clock: function() {
			// 	trivia.timer -= 1
			// 	trivia.printTime()
				
			// 	if (trivia.timer <= 0) {
			// 		if (trivia.questions.length === 0){
			// 			alert("out of questions.  Sorry")
			// 		}
			// 		else {
			// 			trivia.timer = 10;
			// 			trivia.nextQuestion();
			// 		}
			// 	}
			// },

			// perSecond: function() {
			// 	for (var i = 10; i>=1; i--) {
			// 		if (trivia.timer===0){
			// 			//find a way to break this all
			// 		}
			// 		else {
			// 			trivia.printTime()
			// 			setTimeout(trivia.clock, 1000*i);
			// 		}
			// 	}
			// },

			// printTime: function() {
			// 	$('#timer').text(trivia.timer)
			// },
		}

		//activating scripts
		$("#start").on("click", function() {
			trivia.nextQuestion()
			//trivia.startTimer
		});
		$('#answer1').on("click", function(event) {
			var answer = $('#answer1').text()
			if (answer == trivia.currentQuestion.right) {
				console.log("winner!");
				trivia.point();
				trivia.nextQuestion();
			}
			else {
				console.log("Wrong, next question");
				trivia.nextQuestion();
			}
		});
		$('#answer2').on("click", function(event) {
			var answer = $('#answer2').text();
			if (answer == trivia.currentQuestion.right) {
				console.log("winner!");
				trivia.point();
				trivia.nextQuestion();
			}
			else {
				console.log("Wrong, next question");
				trivia.nextQuestion();
			}
		});
		$('#answer3').on("click", function(event) {
			var answer = $('#answer3').text();
			if (answer == trivia.currentQuestion.right) {
				console.log("winner!");
				trivia.point();
				trivia.nextQuestion();
			}
			else {
				console.log("Wrong, next question")
				trivia.nextQuestion();
			}
		});
		$('#answer4').on("click", function(event) {
			var answer = $('#answer4').text();
			if (answer == trivia.currentQuestion.right) {
				console.log("winner!");
				trivia.point();
				trivia.nextQuestion();
			}
			else {
				console.log("Wrong, next question");
				trivia.nextQuestion();
			}
		});
	</script>
</body>
</html>